if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){var i="panelSnap";var s="plugin_"+i;var o={isMouseDown:false,isSnapping:false,scrollInterval:0,scrollOffset:0,init:function(r,i){var s=this;s.$window=e(t);s.$document=e(n);s.container=i;s.$container=e(i);s.$eventContainer=s.$container;s.$snapContainer=s.$container;if(s.$container.is("body")){s.$eventContainer=s.$document;var o=navigator.userAgent;if(!~o.indexOf("WebKit")){s.$snapContainer=e("html")}}s.scrollInterval=s.$container.height();s.options=e.extend(true,{},e.fn.panelSnap.options,r);s.bind();if(s.options.$menu!==false&&e(".active",s.options.$menu).length>0){e(".active",s.options.$menu).click()}else{var u=s.getPanel(":first");s.activatePanel(u)}return s},bind:function(){var t=this;t.bindProxied(t.$eventContainer,"scrollstop",t.scrollStop);t.bindProxied(t.$eventContainer,"mousewheel",t.mouseWheel);t.bindProxied(t.$eventContainer,"mousedown",t.mouseDown);t.bindProxied(t.$eventContainer,"mouseup",t.mouseUp);t.bindProxied(t.$window,"resizestop",t.resize);if(t.options.$menu!==false){t.bindProxied(e(t.options.$menu),"click",t.captureMenuClick,t.options.menuSelector)}},bindProxied:function(t,n,r,i){var s=this;i=typeof i==="string"?i:null;t.on(n+s.options.namespace,i,e.proxy(function(e){return r.call(s,e)},s))},destroy:function(){var t=this;t.$eventContainer.off(t.options.namespace);t.$window.off(t.options.namespace);if(t.options.$menu!==false){e(t.options.menuSelector,t.options.$menu).off(t.options.namespace)}t.$container.removeData(s)},scrollStop:function(e){var t=this;e.stopPropagation();if(t.isMouseDown){t.$eventContainer.one("mouseup"+t.options.namespace,t.processScroll);return}if(t.isSnapping){return}var n=t.$eventContainer.scrollTop();var r=n-t.scrollOffset;var i=t.$container[0].scrollHeight-t.scrollInterval;var s=t.getPanel().length;var o;if(r<-t.options.directionThreshold&&r>-t.scrollInterval){o=Math.floor(n/t.scrollInterval)}else if(r>t.options.directionThreshold&&r<t.scrollInterval){o=Math.ceil(n/t.scrollInterval)}else{o=Math.round(n/t.scrollInterval)}o=Math.max(0,Math.min(o,s));var u=t.getPanel(":eq("+o+")");if(r===0||r<100&&(n<0||n>i)){t.activatePanel(u)}else{t.snapToPanel(u)}},mouseWheel:function(e){var t=this;t.$container.stop(true);t.isSnapping=false},mouseDown:function(e){var t=this;t.isMouseDown=true},mouseUp:function(e){var t=this;t.isMouseDown=false},resize:function(e){var t=this;t.scrollInterval=t.$container.height();var n=t.getPanel(".active");t.snapToPanel(n)},captureMenuClick:function(t){var n=this;var r=e(t.currentTarget).data("panel");var i=n.getPanel("[data-panel="+r+"]");n.snapToPanel(i);return false},snapToPanel:function(e){var t=this;t.isSnapping=true;t.options.onSnapStart.call(t,e);t.$container.trigger("panelsnap:start",[e]);var n=0;if(t.$container.is("body")){n=e.offset().top}else{n=t.$eventContainer.scrollTop()+e.position().top}t.$snapContainer.stop(true).animate({scrollTop:n},t.options.slideSpeed,function(){t.scrollOffset=n;t.isSnapping=false;t.options.onSnapFinish.call(t,e);t.$container.trigger("panelsnap:finish",[e])});t.activatePanel(e)},activatePanel:function(t){var n=this;e("> "+n.options.panelSelector+".active",n.container).removeClass("active");t.addClass("active");if(n.options.$menu!==false){e(n.options.menuSelector+".active",n.options.$menu).removeClass("active");var r=n.options.menuSelector+"[data-panel="+t.data("panel")+"]";var i=e(r,n.options.$menu);i.addClass("active")}},getPanel:function(t){var n=this;if(typeof t==="undefined"){t=""}var r="> "+n.options.panelSelector+t;return e(r,n.$container)},snapTo:function(e,t){var n=this;if(typeof t!=="boolean"){t=true}var r;switch(e){case"prev":r=n.getPanel(".active").prev(n.options.panelSelector);if(r.length<1&&t){r=n.getPanel(":last")}break;case"next":r=n.getPanel(".active").next(n.options.panelSelector);if(r.length<1&&t){r=n.getPanel(":first")}break;case"first":r=n.getPanel(":first");break;case"last":r=n.getPanel(":last");break}if(r.length>0){n.snapToPanel(r)}}};e.fn[i]=function(t){var n=Array.prototype.slice.call(arguments);return this.each(function(){var r=e.data(this,s);if(typeof t==="object"||t==="init"||!t){if(!r){if(t==="init"){t=n[1]||{}}r=Object.create(o).init(t,this);e.data(this,s,r)}else{e.error("Plugin is already initialized for this object.");return}}else if(!r){e.error("Plugin is not initialized for this object yet.");return}else if(r[t]){var i=t;t=n.slice(1);r[i].apply(r,t)}else{e.error("Method "+t+" does not exist on jQuery.panelSnap.");return}})};e.fn.panelSnap.options={$menu:false,menuSelector:"a",panelSelector:"section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},directionThreshold:50,slideSpeed:200}})(jQuery,window,document);(function(e){e.event.special.scrollstart={enabled:true,setup:function(){function s(e,t){e.type=t?"scrollstart":"scrollstop";n.trigger(e)}var t=this;var n=e(t);var r;var i;n.data("scrollwatch",true);n.on("touchmove scroll",function(t){if(!e.event.special.scrollstart.enabled){return}if(!e.event.special.scrollstart.scrolling){e.event.special.scrollstart.scrolling=true;s(t,true)}clearTimeout(i);i=setTimeout(function(){e.event.special.scrollstart.scrolling=false;s(t,false)},50)})}};e.event.special.scrollstop={setup:function(){var t=this;var n=e(t);if(!n.data("scrollwatch")){e(this).on("scrollstart",function(){})}}}})(jQuery);(function(e){e.event.special.resizestart={enabled:true,setup:function(){function s(e,t){e.type=t?"resizestart":"resizestop";n.trigger(e)}var t=this;var n=e(t);var r;var i;n.data("resizewatch",true);n.on("resize",function(t){if(!e.event.special.resizestart.enabled){return}if(!e.event.special.resizestart.resizing){e.event.special.resizestart.resizing=true;s(t,true)}clearTimeout(i);i=setTimeout(function(){e.event.special.resizestart.resizing=false;s(t,false)},200)})}};e.event.special.resizestop={setup:function(){var t=this;var n=e(t);if(!n.data("resizewatch")){e(this).on("resizestart",function(){})}}}})(jQuery);(function(e){function r(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=true,o=0,u=0;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){i=n.wheelDelta/120}if(n.detail){i=-n.detail/3}u=i;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){u=0;o=-1*i}if(n.wheelDeltaY!==undefined){u=n.wheelDeltaY/120}if(n.wheelDeltaX!==undefined){o=-1*n.wheelDeltaX/120}r.unshift(t,i,o,u);return(e.event.dispatch||e.event.handle).apply(this,r)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var n=t.length;n;){e.event.fixHooks[t[--n]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=t.length;e;){this.addEventListener(t[--e],r,false)}}else{this.onmousewheel=r}},teardown:function(){if(this.removeEventListener){for(var e=t.length;e;){this.removeEventListener(t[--e],r,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery)